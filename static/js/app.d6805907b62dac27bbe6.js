webpackJsonp([1],{"/5Qc":function(t,e){},"7Uo+":function(t,e){},KvTk:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("keep-alive",[this.$route.meta.keepAlive?e("router-view"):this._e()],1),this._v(" "),this.$route.meta.keepAlive?this._e():e("router-view")],1)},staticRenderFns:[]};var s=i("VU/8")({name:"App"},a,!1,function(t){i("KvTk")},null,null).exports,r=i("/ocq"),o={data:function(){return{ruleForm:{username:"",pwd:""}}},methods:{submitForm:function(t){alert("登录")},resetForm:function(t){this.ruleForm={}}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login_box"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"","label-width":"100px"}},[i("el-form-item",{attrs:{label:"GitHub账户",prop:"username"}},[i("el-input",{attrs:{type:"text",placeholder:"请输入GitHub账号",autocomplete:"off"},model:{value:t.ruleForm.pass,callback:function(e){t.$set(t.ruleForm,"pass",e)},expression:"ruleForm.pass"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[i("el-input",{attrs:{type:"password",placeholder:"请输入密码",autocomplete:"off"},model:{value:t.ruleForm.checkPass,callback:function(e){t.$set(t.ruleForm,"checkPass",e)},expression:"ruleForm.checkPass"}})],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("登录")]),t._v(" "),i("el-button",{on:{click:function(e){return t.resetForm("ruleForm")}}},[t._v("重置")])],1)],1)],1)},staticRenderFns:[]};i("VU/8")(o,c,!1,function(t){i("yklG")},null,null).exports;var u={data:function(){return{}},mounted:function(){editor.create()}},l={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h3",[this._v("editor")]),this._v(" "),e("textarea",{staticStyle:{width:"100%",height:"200px"},attrs:{id:"text1"}})])}]};var h=i("VU/8")(u,l,!1,function(t){i("aWbC")},null,null).exports,p=i("Xxa5"),v=i.n(p),d=i("exGp"),_=i.n(d),f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav "},[i("header",{staticClass:"container clearfix"},[t._m(0),t._v(" "),t._m(1),t._v(" "),i("ul",{staticClass:"nav_list"},[i("li",{on:{click:function(e){t.gotoIndex(),t.changeNav(1)}}},[i("router-link",{class:{active:1==t.index},attrs:{to:""}},[t._v("首页")])],1),t._v(" "),i("li",{on:{click:function(e){t.open(),t.changeNav(2)}}},[i("router-link",{class:{active:2==t.index},attrs:{to:""}},[t._v("新手入门")])],1),t._v(" "),i("li",{on:{click:function(e){t.open(),t.changeNav(3)}}},[i("router-link",{class:{active:3==t.index},attrs:{to:""}},[t._v("API")])],1),t._v(" "),i("li",{on:{click:function(e){t.open(),t.changeNav(4)}}},[i("router-link",{class:{active:4==t.index},attrs:{to:""}},[t._v("关于")])],1),t._v(" "),i("li",{on:{click:function(e){return t.open()}}},[i("router-link",{attrs:{to:""}},[t._v("登录")])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"logo"},[e("a",{attrs:{href:"#"}},[this._v("Cnode")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:""}},[e("i",{staticClass:"el-icon-search"}),this._v(" "),e("input",{staticClass:"search",attrs:{type:"text",placeholder:"搜你想要的"}})])}]};var m=i("VU/8")({data:function(){return{index:1}},methods:{gotoLogin:function(){this.$router.push("/login")},gotoIndex:function(){this.$router.push("/")},open:function(){this.$message({message:"此功能未开通",type:"warning",duration:1e3})},changeNav:function(t){switch(t){case 1:case 2:case 3:case 4:this.index=t}}}},f,!1,function(t){i("xPrj")},null,null).exports,g={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer"},[e("div",{staticClass:"container"},[e("h4",[this._v("CNode 社区为国内最专业的 Node.js 开源技术社区，致力于 Node.js 的技术研究。")])])])}]};var x=i("VU/8")({},g,!1,function(t){i("/5Qc")},null,null).exports;function b(t){var e=new Date(t).getTime(),i=(new Date).getTime()-e,n=Math.round(i/1e3),a=Math.round(n/60),s=Math.round(a/60),r=Math.round(s/24),o=Math.round(r/30);return console.log(r),console.log(o),r<1?s>=24||s<=0?(r=r++,s%=24,a>=60||a<=0?(s=s++,a%=60,n>60?(a=a++,void(n%=60)):n+"秒前"):a+"分钟前"):s+"小时前":r>=30?(r%=30,(o=o++)+"月前"):r+"天前"}var k={components:{Nav:m,Foot:x},data:function(){return{integral:[],hotTopics:[],topicData:[],total:40,currentPage:1,limit:10,tab:"",mdrender:"true",index:1}},methods:{handleSizeChange:function(t){switch(console.log("每页 "+t+" 条"),this.limit=t,console.log(this.index),this.index){case 1:this.getAllTopics(this.currentPage,this.limit);break;case 2:this.gettopicByTab(this.currentPage,this.limit,"good");break;case 3:this.gettopicByTab(this.currentPage,this.limit,"share");break;case 4:this.gettopicByTab(this.currentPage,this.limit,"ask");break;case 5:this.gettopicByTab(this.currentPage,this.limit,"job")}},handleCurrentChange:function(t){switch(console.log("当前页: "+t),this.index){case 1:this.getAllTopics(t,this.limit);break;case 2:this.gettopicByTab(t,this.limit,"good");break;case 3:this.gettopicByTab(t,this.limit,"share");break;case 4:this.gettopicByTab(t,this.limit,"ask");break;case 5:this.gettopicByTab(t,this.limit,"job")}},goLogin:function(){this.$message({message:"此功能未开通",type:"warning",duration:1e3})},change:function(t){switch(t){case 1:this.index=t,this.getAllTopics(this.currentPage,this.limit);break;case 2:this.index=t,this.gettopicByTab(this.currentPage,this.limit,"good");break;case 3:this.index=t,this.gettopicByTab(this.currentPage,this.limit,"share");break;case 4:this.index=t,this.gettopicByTab(this.currentPage,this.limit,"ask");break;case 5:this.index=t,this.gettopicByTab(this.currentPage,this.limit,"job")}},gettopicByTab:function(t,e,i){var n=this;return _()(v.a.mark(function a(){var s,r;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.$http.get("/topics?page="+t+"&limit="+e+"&tab="+i);case 2:s=a.sent,r=s.data,s.status,n.topicData=r.data;case 6:case"end":return a.stop()}},a,n)}))()},getAllTopics:function(t,e){var i=this;return _()(v.a.mark(function n(){var a,s;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.$http.get("/topics?page="+t+"&limit="+e);case 2:a=n.sent,s=a.data,a.status,i.topicData=s.data;case 6:case"end":return n.stop()}},n,i)}))()},getTopicsLength:function(){var t=this;return _()(v.a.mark(function e(){var i,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/topics");case 2:i=e.sent,n=i.data,i.status,t.total=n.data.length,t.hotTopics=n.data,console.log(t.hotTopics);case 8:case"end":return e.stop()}},e,t)}))()}},mounted:function(){this.getAllTopics(this.currentPage,this.limit),this.getTopicsLength()},computed:{getHot:function(){return this.hotTopics.sort(function(t,e){return e.visit_count-t.visit_count}).slice(0,8)},T:function(){return function(t){return b(t)}}}},T={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Nav"),t._v(" "),i("main",{staticClass:"main_box container clearfix"},[i("section",{staticClass:"topic_box clearfix"},[i("ul",{staticClass:"classify clearfix"},[i("li",[i("a",{class:{active:1==t.index},attrs:{href:"#"},on:{click:function(e){return t.change(1)}}},[t._v("全部")])]),t._v(" "),i("li",[i("a",{class:{active:2==t.index},attrs:{href:"#"},on:{click:function(e){return t.change(2)}}},[t._v("精华")])]),t._v(" "),i("li",[i("a",{class:{active:3==t.index},attrs:{href:"#"},on:{click:function(e){return t.change(3)}}},[t._v("分享")])]),t._v(" "),i("li",[i("a",{class:{active:4==t.index},attrs:{href:"#"},on:{click:function(e){return t.change(4)}}},[t._v("问答")])]),t._v(" "),i("li",[i("a",{class:{active:5==t.index},attrs:{href:"#"},on:{click:function(e){return t.change(5)}}},[t._v("招聘")])])]),t._v(" "),i("div",{staticClass:"content clearfix"},[i("ul",t._l(t.topicData,function(e,n){return i("li",{key:n},[i("el-tag",{attrs:{size:"mini",type:"success"}},[t._v(t._s(e.visit_count))]),t._v(" "),i("router-link",{staticClass:"title",attrs:{to:{path:"detail",query:{id:e.id,userId:e.author.loginname}}}},[t._v(" "+t._s(e.title))]),t._v(" "),i("el-tag",{attrs:{size:"mini",type:"success"}},[t._v(t._s("share"==e.tab?"分享":"ask"==e.tab?"问答":"true"==e.good?"精华":"招聘"))]),t._v(" "),i("span",{staticClass:"time"},[t._v(t._s(t.T(e.create_at)))])],1)}),0)]),t._v(" "),i("el-pagination",{staticStyle:{margin:"10px"},attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),i("section",{staticClass:"left_box "},[i("div",{staticClass:"login"},[i("h3",[t._v("CNode：Node.js专业中文社区")]),t._v(" "),i("p",[t._v("您可以 登录 或 注册 , 也可以")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.goLogin}},[t._v("通过 Github 登录")])],1),t._v(" "),i("div",{staticClass:"hot_topic"},[i("h4",[t._v("热门话题")]),t._v(" "),i("ul",t._l(t.getHot,function(e,n){return i("li",{key:n},[i("span",{staticClass:"num"},[t._v(t._s(n+1))]),t._v(" "),i("router-link",{staticClass:"hot_title",attrs:{to:{path:"detail",query:{id:e.id,userId:e.author.loginname}}}},[t._v(t._s(e.title))])],1)}),0)]),t._v(" "),t._m(0)])]),t._v(" "),i("Foot")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"friends_communiction",attrs:{href:"https://ruby-china.org/"}},[e("h4",[this._v("友情社区")])])}]};var C=i("VU/8")(k,T,!1,function(t){i("UoS+")},null,null).exports,y={components:{Nav:m,Foot:x},data:function(){return{topicId:this.$route.query.id,userId:this.$route.query.userId,oneTopic:{},topicAuthor:{},loginName:""}},methods:{getOneTopic:function(){var t=this;return _()(v.a.mark(function e(){var i,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/topic/"+t.topicId);case 2:i=e.sent,n=i.data,200==i.status&&(t.oneTopic=n.data);case 6:case"end":return e.stop()}},e,t)}))()},getTopicAuthor:function(){var t=this;return _()(v.a.mark(function e(){var i,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/user/"+t.userId);case 2:i=e.sent,n=i.data,200==i.status&&(t.topicAuthor=n.data),console.log(t.topicAuthor);case 7:case"end":return e.stop()}},e,t)}))()},noFunction:function(){this.$message({message:"此功能未开通",type:"warning",duration:1e3})}},mounted:function(){this.getOneTopic(),this.getTopicAuthor(),console.log(this.userId)},computed:{T:function(){return function(t){return b(t)}}}},F={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Nav"),t._v(" "),i("div",{staticClass:"container detail clearfix"},[i("div",{staticClass:"left_content"},[i("div",{staticClass:"title_box"},[i("h3",[t._v(t._s(t.oneTopic.title))]),t._v(" "),i("p",[t._v(" 发布于"+t._s(t.T(t.oneTopic.create_at))+"---作者:"+t._s(t.oneTopic.author.loginname)+" -- "+t._s(t.oneTopic.visit_count)+"次浏览 来自 "+t._s("share"==t.oneTopic.tab?"分享":"ask"==t.oneTopic.tab?"问答":"good"==t.oneTopic.tab?"精华":"招聘"))]),t._v(" "),i("el-button",{staticClass:"selected",attrs:{type:"success"},on:{click:function(e){return t.noFunction()}}},[t._v("收藏")])],1),t._v(" "),i("div",{staticClass:"topic_content",domProps:{innerHTML:t._s(t.oneTopic.content)}})]),t._v(" "),i("div",{staticClass:"right_content"},[i("h4",[t._v("作者")]),t._v(" "),i("div",{staticClass:"authoer_info"},[i("img",{attrs:{src:t.topicAuthor.avatar_url,alt:"头像暂无"}}),t._v(" "),i("span",{staticClass:"author_name"},[t._v(t._s(t.topicAuthor.githubUsername))])]),t._v(" "),i("p",{staticClass:"score"},[t._v("积分:"+t._s(t.topicAuthor.score))]),t._v(" "),i("p",{staticClass:"individual_signature"},[t._v("“ 这家伙很懒，什么个性签名都没有留下。 ”")])])]),t._v(" "),i("Foot")],1)},staticRenderFns:[]};var w=i("VU/8")(y,F,!1,function(t){i("7Uo+")},null,null).exports;n.default.use(r.a);var $=new r.a({routes:[{path:"/",name:"Index",component:C,meta:{keepAlive:!0}},{path:"/edit",name:"edit",component:h},{path:"/detail",name:"detail:id",component:w,meta:{keepAlive:!1}}]}),P=i("zL8q"),A=i.n(P),N=(i("tvR6"),i("mtWM")),E=i.n(N),B=(i("ZsCP"),i("wtEF")),U=i.n(B);n.default.config.productionTip=!1,n.default.use(A.a),E.a.defaults.baseURL="https://cnodejs.org/api/v1",n.default.prototype.$http=E.a,console.log(n.default.$http),new n.default({el:"#app",router:$,Store:U.a,components:{App:s},template:"<App/>"})},"UoS+":function(t,e){},ZsCP:function(t,e){},aWbC:function(t,e){},tvR6:function(t,e){},wtEF:function(t,e){},xPrj:function(t,e){},yklG:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d6805907b62dac27bbe6.js.map